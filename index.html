<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>LSPD MDT</title>

<style>
/* ================= MDT BASIS ================= */
:root{
  --bg:#0b0b0d;
  --panel:#141417;
  --border:#2a2a30;
  --accent:#ff4f9a;
  --text:#e8e8ea;
  --muted:#9a9aa2;
}
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
body{
  margin:0;height:100vh;
  background:linear-gradient(180deg,#0b0b0d,#101014);
  color:var(--text);
}

/* LOGIN */
#login{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
}
.login-box{
  width:360px;padding:28px;
  background:#141417;border:1px solid var(--border);
  border-radius:18px;
}
.login-box input{
  width:100%;padding:12px;margin-top:12px;
  background:#0e0e11;border:1px solid var(--border);
  border-radius:10px;color:white;
}
.login-box button{
  width:100%;margin-top:16px;
  padding:12px;border:none;border-radius:12px;
  background:#ff4f9a;color:white;font-weight:600;
}

/* APP */
#app{display:flex;flex-direction:column;height:100vh}
nav{
  height:56px;display:flex;align-items:center;
  gap:10px;padding:0 18px;
  background:#141417;border-bottom:1px solid var(--border);
}
nav .logo{color:var(--accent);font-weight:600;margin-right:20px}
.nav-btn{
  background:none;border:none;color:var(--text);
  padding:8px 14px;border-radius:10px;cursor:pointer;
}
.nav-btn.active{background:#1f1f26;color:var(--accent)}
.spacer{flex:1}

main{flex:1;padding:20px;overflow:auto}
.card{
  background:#141417;border:1px solid var(--border);
  border-radius:18px;padding:20px;
}

/* ================= STRAFRECHNER (GEKAPSELT) ================= */
.penal *{user-select:none}
.penal{
  display:grid;
  grid-template-columns:1fr 380px;
  gap:15px;
}
.penal input{
  width:100%;background:#0e0e11;border:1px solid #21262d;
  padding:8px;border-radius:6px;color:white;
}
.penal .law-card{
  background:#151921;border:1px solid #21262d;
  border-radius:12px;margin-bottom:14px;overflow:hidden;
}
.penal table{width:100%;border-collapse:collapse}
.penal td{
  padding:7px;font-size:12px;border-bottom:1px solid #1a1e26;
}
.penal tr:hover{background:#1c222d;cursor:pointer}
.penal .selected{background:#262c36;border-left:3px solid #ff2e7e}
.penal .stars{color:#d4af37}

/* =========================================================== */
</style>
</head>
<body>

<div id="login">
  <div class="login-box">
    <h2>LSPD MDT</h2>
    <input id="user" placeholder="Benutzer">
    <input id="pass" type="password" placeholder="Passwort">
    <button onclick="login()">Anmelden</button>
  </div>
</div>

<script>
/* USERS */
const USERS=[
 {u:"ADMIN",p:"9999",r:"admin",active:true},
 {u:"LSPD",p:"1234",r:"officer",active:true}
];
let CURRENT=null;

/* LOGIN */
function login(){
 const u=user.value,p=pass.value;
 const f=USERS.find(x=>x.u===u&&x.p===p&&x.active);
 if(!f){alert("Login fehlgeschlagen");return;}
 CURRENT=f;document.body.innerHTML="";initApp();
}

/* APP */
function initApp(){
 document.body.innerHTML=`
 <div id="app">
  <nav>
   <div class="logo">MDT</div>
   <button class="nav-btn active" onclick="nav(this,'leit')">Leitstelle</button>
   <button class="nav-btn" onclick="nav(this,'rechner')">Strafrechner</button>
   ${CURRENT.r==="admin"?`<button class="nav-btn" onclick="nav(this,'admin')">Admin</button>`:""}
   <div class="spacer"></div>
   <button class="nav-btn" onclick="location.reload()">Logout</button>
  </nav>
  <main id="content"></main>
 </div>`;
 render("leit");
}
function nav(b,t){
 document.querySelectorAll(".nav-btn").forEach(x=>x.classList.remove("active"));
 b.classList.add("active");render(t);
}

/* RENDER */
function render(t){
 const c=document.getElementById("content");
 if(t==="leit") c.innerHTML=`<div class="card">üö® Leitstellen-Liveansicht</div>`;
 if(t==="admin") c.innerHTML=`<div class="card">üîê Admin-Panel</div>`;
 if(t==="rechner") renderPenal(c);
}

/* ================= STRAFRECHNER LOGIK ================= */
function renderPenal(c){
 c.innerHTML=`
 <div class="card penal">
  <div id="lawList"></div>
  <div>
   <b>Max. Geldstrafe</b>
   <div id="outM">$0</div>
   <b>Wanteds</b>
   <div id="outW">0</div>
   <div id="entry" style="margin-top:10px;color:#888">W√§hle Strafen‚Ä¶</div>
  </div>
 </div>`;
 penalInit();
}

const laws=[
 {p:"¬ß3.1",n:"Beleidigung",m:10000,w:0},
 {p:"¬ß4.1",n:"Mord",m:30000,w:4},
 {p:"¬ß11",n:"Raub",m:25000,w:3}
];
let sel=[];

function penalInit(){
 const l=document.getElementById("lawList");
 l.innerHTML="";
 laws.forEach((x,i)=>{
  l.innerHTML+=`
  <div class="law-card">
   <table>
    <tr onclick="toggleLaw(${i})" class="${sel.includes(i)?"selected":""}">
     <td style="color:#ff4f9a">${x.p}</td>
     <td>${x.n}</td>
     <td class="stars">${"‚òÖ".repeat(x.w)}</td>
     <td style="text-align:right">$${x.m}</td>
    </tr>
   </table>
  </div>`;
 });
 updatePenal();
}
function toggleLaw(i){
 sel.includes(i)?sel=sel.filter(x=>x!==i):sel.push(i);
 penalInit();
}
function updatePenal(){
 let m=0,w=0;
 sel.forEach(i=>{m=Math.max(m,laws[i].m);w+=laws[i].w});
 outM.innerText="$"+m;
 outW.innerText=w;
 entry.innerText=sel.map(i=>laws[i].p).join(", ")||"W√§hle Strafen‚Ä¶";
}
</script>

</body>
</html>
