<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>MDT System</title>

<style>
:root{
  --bg:#0b0b0d;
  --panel:#141417;
  --panel2:#1c1c22;
  --border:#2a2a30;
  --accent:#ff4f9a;
  --text:#e8e8ea;
  --muted:#9a9aa2;
  --gold:#ffd479;
}

*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
body{margin:0;height:100vh;background:var(--bg);color:var(--text)}

#loginScreen{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
}
.login-box{
  width:360px;padding:28px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
}
.login-box h2{text-align:center;margin-bottom:20px}
.login-box input{
  width:100%;padding:12px;margin-bottom:12px;
  background:#0e0e11;border:1px solid var(--border);
  border-radius:10px;color:white;
}
.login-box button{
  width:100%;padding:12px;
  border:none;border-radius:12px;
  background:var(--accent);
  color:white;font-weight:600;
  cursor:pointer;
}

#app{display:none;height:100vh;flex-direction:column}

nav{
  height:56px;display:flex;align-items:center;
  padding:0 18px;gap:10px;
  background:var(--panel);
  border-bottom:1px solid var(--border);
}
.logo{color:var(--accent);font-weight:700;margin-right:20px}
.nav-btn{
  background:none;border:none;
  color:var(--text);
  padding:8px 14px;
  border-radius:10px;
  cursor:pointer;
}
.nav-btn.active{background:var(--panel2);color:var(--accent)}
.spacer{flex:1}

main{flex:1;overflow:auto;padding:20px}

.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  padding:16px;
  margin-bottom:16px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:16px;
}

.unit{
  background:var(--panel2);
  border-radius:12px;
  padding:12px;
}
.unit h4{margin:0 0 6px;color:var(--gold)}
.small{font-size:12px;color:var(--muted)}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginScreen">
  <div class="login-box">
    <h2>MDT Login</h2>
    <input id="loginUser" placeholder="Benutzer">
    <input id="loginPass" type="password" placeholder="Passwort">
    <button onclick="doLogin()">Anmelden</button>
    </div>
  </div>
</div>

<!-- APP -->
<div id="app">
  <nav>
    <div class="logo">MDT</div>
    <button class="nav-btn active" onclick="nav(this,'leit')">Leitstelle</button>
    <button class="nav-btn" onclick="nav(this,'rechner')">Strafrechner</button>
    <div class="spacer"></div>
    <button class="nav-btn" onclick="location.reload()">Logout</button>
  </nav>
  <main id="content"></main>
</div>

<script>
/* USERS */
const USERS=[
 {u:"ADMIN",p:"9999",r:"admin"},
 {u:"LSPD",p:"1234",r:"officer"}
];
let CURRENT=null;

/* LOGIN */
function doLogin(){
 const u=document.getElementById("loginUser").value.trim();
 const p=document.getElementById("loginPass").value.trim();
 const found=USERS.find(x=>x.u===u && x.p===p);
 if(!found){
   alert("Login fehlgeschlagen");
   return;
 }
 CURRENT=found;
 document.getElementById("loginScreen").style.display="none";
 document.getElementById("app").style.display="flex";
 renderLeit();
}

/* NAV */
function nav(btn,view){
 document.querySelectorAll(".nav-btn").forEach(b=>b.classList.remove("active"));
 btn.classList.add("active");
 view==="leit"?renderLeit():renderRechner();
}

/* LEITSTELLE */
function renderLeit(){
 content.innerHTML=`
 <div class="card">
  Eingeloggt als <b>${CURRENT.u}</b> (${CURRENT.r})
 </div>
 <div class="grid">
  <div class="unit"><h4>ALPHA 01</h4>Streife</div>
  <div class="unit"><h4>BRAVO 01</h4>AFK</div>
  <div class="unit"><h4>CHARLIE 01</h4>Außer Dienst</div>
 </div>`;
}

/* STRAFRECHNER */
const LAWS=[
 {p:"StGB §3.1",n:"Beleidigung",w:1,m:10000},
 {p:"StGB §4.1",n:"Mord / Versuch",w:4,m:30000},
 {p:"StGB §11",n:"Raub",w:3,m:25000},
 {p:"StVO §8",n:"Geschwindigkeit",w:0,m:15000},
 {p:"WaffG §5.1",n:"Illegale Waffen",w:3,m:10000}
];
let SEL=[];

function renderRechner(){
 let list=LAWS.map((x,i)=>`
 <div class="unit" onclick="toggle(${i})" style="cursor:pointer">
  <b>${x.p}</b> – ${x.n}<br>
  <span class="small">⭐ ${x.w} | $${x.m}</span>
 </div>`).join("");

 let w=0,m=0;
 SEL.forEach(i=>{w+=LAWS[i].w;m=Math.max(m,LAWS[i].m)});

 content.innerHTML=`
 <div class="grid">
  <div>${list}</div>
  <div class="card">
   <b>Max. Geldstrafe</b><div class="gold">$${m}</div>
   <b>Wanteds</b><div>${w}</div>
  </div>
 </div>`;
}

function toggle(i){
 SEL.includes(i)?SEL=SEL.filter(x=>x!==i):SEL.push(i);
 renderRechner();
}
</script>
</body>
</html>
